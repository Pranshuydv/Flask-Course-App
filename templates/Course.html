{% extends 'Base.html' %}

{% block content %}
  <section class="py-16 bg-gray-100">
    <div class="max-w-6xl mx-auto px-4">
      <!-- Header -->
      <div class="flex justify-between items-center mb-10">
        <h2 class="text-3xl font-bold text-gray-800">Our Popular Courses</h2>

        <!-- Home Button -->
        <a href="/" class="bg-green-600 text-white px-5 py-2 rounded font-semibold hover:bg-green-700">Home</a>
      </div>

      <!-- Courses Grid -->
      <div class="grid gap-8 md:grid-cols-3">
        {% if courses %}
          {% for course in courses %}
            <div class="bg-white rounded-lg shadow overflow-hidden">
              <!-- Course Image -->
              <img src="https://picsum.photos/400/250?random={{ course.id }}" alt="Course Image" class="w-full h-48 object-cover" />

              <div class="p-6">
                <h3 class="text-xl font-semibold mb-2">{{ course.name }}</h3>

                <p class="text-gray-600 mb-3">Duration: {{ course.duration }} Months</p>

                <!-- Price -->
                <div class="flex items-center gap-3 mb-4">
                  <span class="text-sm bg-green-100 text-green-600 px-2 py-1 rounded">{{ course.discount }}%</span>
                  <span class="text-xl font-bold text-blue-600">â‚¹{{ course.price }}</span>
                </div>

                <!-- Buttons -->
                <div class="flex gap-3">
                  <button class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">Enroll</button>

                  {% if session.get('user_id') %}
                    <!-- Delete only for logged in user -->
                    <a href="{{ url_for('delete_course', id=course.id) }}" class="w-full text-center bg-red-600 text-white py-2 rounded hover:bg-red-700">Delete</a>
                  {% endif %}
                </div>
              </div>
            </div>
          {% endfor %}
        {% else %}
          <h1 class="text-center text-gray-600 text-xl">No Course Found in Database</h1>
        {% endif %}
      </div>
    </div>
  </section>
{% endblock %}
